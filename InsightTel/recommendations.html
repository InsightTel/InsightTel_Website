<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recommendations - InsightTel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="dist/output.css">
</head>
<body class="bg-primary-bg text-text-primary min-h-screen flex flex-col">
    <!-- Header -->
    <header class="fixed top-0 w-full bg-primary-bg/90 backdrop-blur-md shadow-[0_4px_20px_rgba(0,0,0,0.2)] z-1000">
        <div class="container-custom py-4 flex justify-between items-center">
            <a href="index.html" class="logo text-2xl font-bold gradient-text">InsightTel</a>
            <div class="flex items-center gap-4">
                <!-- Profile Icon -->
                <div class="profile-container relative">
                    <button id="profileBtn" class="btn-outline flex items-center gap-2">
                        <i class="fas fa-user-circle text-lg"></i>
                        <span id="profileText">Login</span>
                    </button>
                    
                    <!-- Dropdown Login/Register -->
                    <div id="profileDropdown" class="profile-dropdown">
                        <!-- Content akan diisi oleh JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 pt-24 pb-12">
        <div class="container-custom max-w-6xl">
            <div class="text-center mb-12">
                <h1 class="text-3xl md:text-4xl font-bold gradient-text mb-4">Personal Recommendations</h1>
                <p class="text-text-secondary text-lg max-w-2xl mx-auto">
                    Berdasarkan profil penggunaan Anda, berikut adalah rekomendasi paket telekomunikasi yang paling sesuai
                </p>
            </div>

            <!-- User Profile Summary -->
            <div id="profileSummary" class="card-base p-6 mb-8 hidden">
                <h2 class="text-xl font-bold mb-4">Profil Pengguna</h2>
                <div id="profileDetails" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            </div>

            <!-- Recommendations Display -->
            <div id="recommendationsSection" class="mb-12">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold">Rekomendasi Untuk Anda</h2>
                    <button id="refreshRecBtn" class="btn-outline">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh Recommendations
                    </button>
                </div>
                
                <div id="recommendationsList" class="space-y-4">
                    <!-- Recommendations will be loaded here -->
                </div>
                
                <!-- Hilangkan bagian "Ingin rekomendasi yang lebih akurat?" -->
            </div>

            <!-- Recommendation Form -->
            <div id="recommendationForm" class="card-base p-6 mb-12">
                <h2 class="text-2xl font-bold mb-6">Update Profil Penggunaan</h2>
                <p class="text-text-secondary mb-6">Isi atau perbarui profil penggunaan Anda untuk mendapatkan rekomendasi yang lebih akurat.</p>
                
                <form id="recForm" class="space-y-6">
                    <!-- Form sections -->
                    <div class="bg-card-bg/50 p-5 rounded-custom border border-white/5">
                        <h4 class="text-lg font-semibold mb-4 text-primary-accent flex items-center">
                            <i class="fas fa-chart-line mr-2"></i>
                            Profil Penggunaan Dasar
                        </h4>
                        
                        <!-- Plan Type -->
                        <div class="form-group mb-5">
                            <label class="block text-text-secondary text-sm mb-3 font-medium">
                                <i class="fas fa-mobile-alt mr-2"></i>Tipe Paket yang Disukai
                            </label>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                <label class="plan-option">
                                    <input type="radio" name="planType" value="basic" class="hidden">
                                    <div class="plan-content p-4 border border-white/10 rounded-custom hover:border-primary-accent/30 transition-all cursor-pointer">
                                        <div class="text-center mb-2">
                                            <i class="fas fa-user text-xl text-text-secondary"></i>
                                        </div>
                                        <div class="text-center font-medium">Basic</div>
                                        <div class="text-xs text-text-secondary text-center mt-1">Untuk penggunaan ringan</div>
                                    </div>
                                </label>
                                <label class="plan-option">
                                    <input type="radio" name="planType" value="premium" class="hidden">
                                    <div class="plan-content p-4 border border-white/10 rounded-custom hover:border-primary-accent/30 transition-all cursor-pointer">
                                        <div class="text-center mb-2">
                                            <i class="fas fa-user-tie text-xl text-text-secondary"></i>
                                        </div>
                                        <div class="text-center font-medium">Premium</div>
                                        <div class="text-xs text-text-secondary text-center mt-1">Untuk kebutuhan menengah</div>
                                    </div>
                                </label>
                                <label class="plan-option">
                                    <input type="radio" name="planType" value="unlimited" class="hidden">
                                    <div class="plan-content p-4 border border-white/10 rounded-custom hover:border-primary-accent/30 transition-all cursor-pointer">
                                        <div class="text-center mb-2">
                                            <i class="fas fa-crown text-xl text-text-secondary"></i>
                                        </div>
                                        <div class="text-center font-medium">Unlimited</div>
                                        <div class="text-xs text-text-secondary text-center mt-1">Untuk kebutuhan besar</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Avg Call Duration & SMS Frequency -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-5">
                            <!-- Call Duration -->
                            <div class="form-group">
                                <label class="block text-text-secondary text-sm mb-3 font-medium">
                                    <i class="fas fa-phone mr-2"></i>Durasi Telepon per Hari
                                </label>
                                <div class="space-y-2">
                                    <label class="option-item">
                                        <input type="radio" name="callDuration" value="low" class="mr-3">
                                        <span>Kurang dari 30 menit</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="callDuration" value="medium" class="mr-3">
                                        <span>30-60 menit</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="callDuration" value="high" class="mr-3">
                                        <span>Lebih dari 60 menit</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- SMS Frequency -->
                            <div class="form-group">
                                <label class="block text-text-secondary text-sm mb-3 font-medium">
                                    <i class="fas fa-sms mr-2"></i>Frekuensi SMS per Hari
                                </label>
                                <div class="space-y-2">
                                    <label class="option-item">
                                        <input type="radio" name="smsFreq" value="low" class="mr-3">
                                        <span>Jarang (0-5 SMS)</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="smsFreq" value="medium" class="mr-3">
                                        <span>Sedang (6-20 SMS)</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="smsFreq" value="high" class="mr-3">
                                        <span>Sering (21+ SMS)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section 2: Usage Patterns -->
                    <div class="bg-card-bg/50 p-5 rounded-custom border border-white/5">
                        <h4 class="text-lg font-semibold mb-4 text-primary-accent flex items-center">
                            <i class="fas fa-history mr-2"></i>
                            Pola Penggunaan
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-5">
                            <!-- Topup Frequency -->
                            <div class="form-group">
                                <label class="block text-text-secondary text-sm mb-3 font-medium">
                                    <i class="fas fa-credit-card mr-2"></i>Frekuensi Top-up per Bulan
                                </label>
                                <div class="space-y-2">
                                    <label class="option-item">
                                        <input type="radio" name="topupFreq" value="low" class="mr-3">
                                        <span>1-2 kali</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="topupFreq" value="medium" class="mr-3">
                                        <span>3-5 kali</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="topupFreq" value="high" class="mr-3">
                                        <span>6+ kali</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Complaint Count -->
                            <div class="form-group">
                                <label class="block text-text-secondary text-sm mb-3 font-medium">
                                    <i class="fas fa-exclamation-triangle mr-2"></i>Komplain ke Customer Service
                                </label>
                                <div class="space-y-2">
                                    <label class="option-item">
                                        <input type="radio" name="complaintCount" value="low" class="mr-3">
                                        <span>Jarang (0-2 kali)</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="complaintCount" value="medium" class="mr-3">
                                        <span>Sedang (3-5 kali)</span>
                                    </label>
                                    <label class="option-item">
                                        <input type="radio" name="complaintCount" value="high" class="mr-3">
                                        <span>Sering (6+ kali)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Travel Score -->
                        <div class="form-group">
                            <label class="block text-text-secondary text-sm mb-3 font-medium">
                                <i class="fas fa-plane mr-2"></i>Frekuensi Travel ke Luar Kota/Negara
                            </label>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                <label class="travel-option">
                                    <input type="radio" name="travelScore" value="low" class="hidden">
                                    <div class="travel-content p-4 border border-white/10 rounded-custom hover:border-primary-accent/30 transition-all cursor-pointer text-center">
                                        <i class="fas fa-home text-2xl mb-2 text-text-secondary"></i>
                                        <div class="font-medium">Jarang</div>
                                        <div class="text-xs text-text-secondary">Hampir tidak pernah</div>
                                    </div>
                                </label>
                                <label class="travel-option">
                                    <input type="radio" name="travelScore" value="medium" class="hidden">
                                    <div class="travel-content p-4 border border-white/10 rounded-custom hover:border-primary-accent/30 transition-all cursor-pointer text-center">
                                        <i class="fas fa-car text-2xl mb-2 text-text-secondary"></i>
                                        <div class="font-medium">Sedang</div>
                                        <div class="text-xs text-text-secondary">Beberapa kali setahun</div>
                                    </div>
                                </label>
                                <label class="travel-option">
                                    <input type="radio" name="travelScore" value="high" class="hidden">
                                    <div class="travel-content p-4 border border-white/10 rounded-custom hover:border-primary-accent/30 transition-all cursor-pointer text-center">
                                        <i class="fas fa-plane text-2xl mb-2 text-text-secondary"></i>
                                        <div class="font-medium">Sering</div>
                                        <div class="text-xs text-text-secondary">Bulanan/berkala</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section 3: Data Usage -->
                    <div class="bg-card-bg/50 p-5 rounded-custom border border-white/5">
                        <h4 class="text-lg font-semibold mb-4 text-primary-accent flex items-center">
                            <i class="fas fa-database mr-2"></i>
                            Penggunaan Data
                        </h4>
                        
                        <!-- Video GB Usage -->
                        <div class="form-group mb-6">
                            <label class="block text-text-secondary text-sm mb-4 font-medium">
                                <i class="fas fa-video mr-2"></i>Pemakaian Data untuk Streaming Video per Bulan
                                <span class="text-xs text-text-secondary block mt-1">Geser slider atau ketik nilai (0-100 GB)</span>
                            </label>
                            <div class="space-y-4">
                                <div class="slider-value-display">
                                    <span class="text-sm text-text-secondary">Nilai saat ini:</span>
                                    <div class="flex items-center gap-2">
                                        <input type="number" id="videoGbInput" min="0" max="100" value="20" 
                                            class="form-control w-24 text-center bg-primary-bg border-primary-accent/30">
                                        <span class="text-sm text-text-secondary">GB</span>
                                    </div>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="videoGbUsage" min="0" max="100" value="20" class="video-slider w-full">
                                </div>
                                <div class="slider-labels flex justify-between">
                                    <span class="slider-label">0 GB</span>
                                    <span class="slider-label">50 GB</span>
                                    <span class="slider-label">100 GB</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Spend per GB -->
                        <div class="form-group">
                            <label class="block text-text-secondary text-sm mb-4 font-medium">
                                <i class="fas fa-money-bill-wave mr-2"></i>Budget per GB Data
                                <span class="text-xs text-text-secondary block mt-1">Berapa maksimal yang ingin dibayar per GB (Rp 5,000 - Rp 45,000)</span>
                            </label>
                            <div class="space-y-4">
                                <div class="slider-value-display">
                                    <span class="text-sm text-text-secondary">Budget per GB:</span>
                                    <div class="flex items-center gap-2">
                                        <span class="text-sm">Rp</span>
                                        <input type="number" id="spendPerGbInput" min="5000" max="45000" step="1000" value="15000" 
                                                class="form-control w-32 text-center bg-primary-bg border-primary-accent/30">
                                    </div>
                                </div>
                                <div class="slider-container">
                                    <input type="range" id="spendPerGb" min="5000" max="45000" step="1000" value="15000" class="spend-slider w-full">
                                </div>
                                <div class="slider-labels flex justify-between">
                                    <span class="slider-label">Rp 5K</span>
                                    <span class="slider-label">Rp 25K</span>
                                    <span class="slider-label">Rp 45K</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <div class="sticky-bottom">
                        <button type="submit" class="btn-primary w-full py-4 text-lg">
                            <i class="fas fa-magic mr-3"></i> 
                            <span class="font-semibold">Simpan & Dapatkan Rekomendasi Baru</span>
                        </button>
                        <p class="text-center text-xs text-text-secondary mt-3">
                            Sistem akan menganalisis profil terbaru Anda untuk memberikan rekomendasi terbaik
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Include Footer -->
    <div id="footer-container"></div>

    <script src="pages/recommendations/recommendations.js"></script>
    <script>
        // Load footer component
        fetch('components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
                
                // Update footer recommendation link
                const isLoggedIn = localStorage.getItem('insighttel_loggedIn') === 'true';
                const footerRecLink = document.getElementById('footerRecLink');
                if (footerRecLink) {
                    if (isLoggedIn) {
                        footerRecLink.href = "recommendations.html";
                    } else {
                        footerRecLink.href = "login.html";
                        footerRecLink.innerHTML = '<i class="fas fa-chevron-right text-xs"></i> Login for Recommendations';
                    }
                }
            })
            .catch(error => {
                console.error('Error loading footer:', error);
                document.getElementById('footer-container').innerHTML = `
                    <footer class="bg-card-bg border-t border-white/5 py-6">
                        <div class="container-custom text-center text-text-secondary text-sm">
                            <p>Copyright Â© 2025 InsightTel. All rights reserved.</p>
                        </div>
                    </footer>
                `;
            });
    </script>
</body>
</html>